import{C as r,D as S,E as h,r as u,ao as x,J as w,i as v,z as E,j as o}from"./index.5e305b55.js";import{R as U,B as f}from"./requestHandler.service.2acc9590.js";import{F as d,T as g}from"./TextField.edf9f7ab.js";const N="https://api-datasheets.vercel.app/api",O={login:s=>U.post(`${N}${r.REQUEST_ROUTES.LOGIN}`,{body:s})},R=()=>{const s=S(),e=h(),[i,t]=u.exports.useState(""),[l,c]=u.exports.useState("");return{userEmail:i,setUserEmail:t,userPassword:l,setUserPassword:c,login:async(a,p)=>{const n=await O.login({email:a,password:p});n&&(window.localStorage.setItem("token",JSON.stringify(n.access_token)),window.localStorage.setItem("user",JSON.stringify(n.user)),e(x.setUser(n.user)),s("/datasheet"))}}},b=()=>{const{t:s}=w(),{userEmail:e,setUserEmail:i,userPassword:t,setUserPassword:l,login:c}=R(),m=()=>{c(e,t)};return v(E,{sx:{mt:1,width:{xs:"100%",md:"100%",lg:"100%"}},display:"flex",flexDirection:"column",alignItems:"center",children:[o(d,{margin:"normal",children:o(g,{size:"small",label:s(r.USER),value:e,onChange:({target:a})=>i(a.value)})}),o(d,{margin:"normal",children:o(g,{type:"password",size:"small",label:s(r.PASSWORD),value:t,onChange:({target:a})=>l(a.value)})}),o(f,{disabled:!e||!t,sx:{mt:1},variant:"contained",onClick:m,children:s(r.LOGIN)})]})};export{b as Login};
