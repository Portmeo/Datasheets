import{r as p,g as C,a as T,s as m,b as c,u as v,_ as f,j as r,c as h,d as x,h as y,af as V,l as N,ag as Z,z as j,x as J,F as X,P as ee,e as w,C as R,I as Y,v as U,L as te,T as oe}from"./index.003abcfb.js";import{u as ae,M as se}from"./useCategory.e8a7a03f.js";import{T as ne}from"./Tooltip.6d041fff.js";import{B as re}from"./requestHandler.service.e7b09c6b.js";import"./category.service.f9488f84.js";const le=p.exports.createContext(),q=le;function ie(e){return C("MuiTable",e)}T("MuiTable",["root","stickyHeader"]);const ce=["className","component","padding","size","stickyHeader"],de=e=>{const{classes:t,stickyHeader:o}=e;return x({root:["root",o&&"stickyHeader"]},ie,t)},pe=m("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>c({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":c({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),D="table",ue=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTable"}),{className:l,component:s=D,padding:n="normal",size:i="medium",stickyHeader:d=!1}=a,b=f(a,ce),u=c({},a,{component:s,padding:n,size:i,stickyHeader:d}),$=de(u),A=p.exports.useMemo(()=>({padding:n,size:i,stickyHeader:d}),[n,i,d]);return r(q.Provider,{value:A,children:r(pe,c({as:s,role:s===D?null:"table",ref:o,className:h($.root,l),ownerState:u},b))})}),be=ue,ge=p.exports.createContext(),S=ge;function ye(e){return C("MuiTableBody",e)}T("MuiTableBody",["root"]);const Ce=["className","component"],Te=e=>{const{classes:t}=e;return x({root:["root"]},ye,t)},me=m("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),ve={variant:"body"},E="tbody",fe=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTableBody"}),{className:l,component:s=E}=a,n=f(a,Ce),i=c({},a,{component:s}),d=Te(i);return r(S.Provider,{value:ve,children:r(me,c({className:h(d.root,l),as:s,ref:o,role:s===E?null:"rowgroup",ownerState:i},n))})}),he=fe;function xe(e){return C("MuiTableCell",e)}const $e=T("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Re=$e,we=["align","className","component","padding","scope","size","sortDirection","variant"],ke=e=>{const{classes:t,variant:o,align:a,padding:l,size:s,stickyHeader:n}=e,i={root:["root",o,n&&"stickyHeader",a!=="inherit"&&`align${y(a)}`,l!=="normal"&&`padding${y(l)}`,`size${y(s)}`]};return x(i,xe,t)},Me=m("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`size${y(o.size)}`],o.padding!=="normal"&&t[`padding${y(o.padding)}`],o.align!=="inherit"&&t[`align${y(o.align)}`],o.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>c({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?V(N(e.palette.divider,1),.88):Z(N(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Re.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),He=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTableCell"}),{align:l="inherit",className:s,component:n,padding:i,scope:d,size:b,sortDirection:u,variant:$}=a,A=f(a,we),g=p.exports.useContext(q),k=p.exports.useContext(S),O=k&&k.variant==="head";let M;n?M=n:M=O?"th":"td";let z=d;!z&&O&&(z="col");const B=$||k&&k.variant,_=c({},a,{align:l,component:M,padding:i||(g&&g.padding?g.padding:"normal"),size:b||(g&&g.size?g.size:"medium"),sortDirection:u,stickyHeader:B==="head"&&g&&g.stickyHeader,variant:B}),Q=ke(_);let P=null;return u&&(P=u==="asc"?"ascending":"descending"),r(Me,c({as:M,ref:o,className:h(Q.root,s),"aria-sort":P,scope:z,ownerState:_},A))}),H=He;function Ne(e){return C("MuiTableContainer",e)}T("MuiTableContainer",["root"]);const Se=["className","component"],Ae=e=>{const{classes:t}=e;return x({root:["root"]},Ne,t)},ze=m("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Ue=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTableContainer"}),{className:l,component:s="div"}=a,n=f(a,Se),i=c({},a,{component:s}),d=Ae(i);return r(ze,c({ref:o,as:s,className:h(d.root,l),ownerState:i},n))}),Oe=Ue;function Be(e){return C("MuiTableHead",e)}T("MuiTableHead",["root"]);const _e=["className","component"],Pe=e=>{const{classes:t}=e;return x({root:["root"]},Be,t)},je=m("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),De={variant:"head"},I="thead",Ee=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTableHead"}),{className:l,component:s=I}=a,n=f(a,_e),i=c({},a,{component:s}),d=Pe(i);return r(S.Provider,{value:De,children:r(je,c({as:s,className:h(d.root,l),ref:o,role:s===I?null:"rowgroup",ownerState:i},n))})}),Ie=Ee;function Le(e){return C("MuiTableRow",e)}const Fe=T("MuiTableRow",["root","selected","hover","head","footer"]),L=Fe,We=["className","component","hover","selected"],Ge=e=>{const{classes:t,selected:o,hover:a,head:l,footer:s}=e;return x({root:["root",o&&"selected",a&&"hover",l&&"head",s&&"footer"]},Le,t)},Je=m("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.head&&t.head,o.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${L.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:N(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:N(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),F="tr",Xe=p.exports.forwardRef(function(t,o){const a=v({props:t,name:"MuiTableRow"}),{className:l,component:s=F,hover:n=!1,selected:i=!1}=a,d=f(a,We),b=p.exports.useContext(S),u=c({},a,{component:s,hover:n,selected:i,head:b&&b.variant==="head",footer:b&&b.variant==="footer"}),$=Ge(u);return r(Je,c({as:s,ref:o,className:h($.root,l),role:s===F?null:"row",ownerState:u},d))}),W=Xe,K=({rows:e,actions:t})=>{const{t:o}=J(),a=e.length?Object.keys(e[0]):void 0,l=t?Object.keys(t):void 0;return r(X,{children:a&&r(Oe,{component:ee,children:w(be,{sx:{minWidth:650},"aria-label":"table",children:[r(Ie,{children:w(W,{sx:{"& th":{color:"white",backgroundColor:"#1976D2"}},children:[a.map(s=>r(H,{children:o(s).toUpperCase()},s)),t&&r(H,{align:"right",children:o(R.ACTIONS).toUpperCase()})]})}),r(he,{children:e.map(s=>w(W,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[a.map(n=>r(H,{children:s[n]},n)),t&&l&&r(H,{align:"right",children:l.map(n=>r(Y,{onClick:()=>t[n].action(s._id),children:t[n].icon},n))})]},s._id))})]})})})};K.propTypes={rows:j.exports.array,actions:j.exports.object};const G=e=>new Intl.DateTimeFormat("es-ES",{dateStyle:"medium",timeStyle:"medium"}).format(new Date(e));const Ze=()=>{const{t:e}=J(),{categories:t,deleteCategory:o,actionsTable:a,actionsModal:l}=ae(),s=t.map(n=>({_id:n._id,name:n.name,createdAt:G(n.createdAt),updatedAt:G(n.updatedAt)}));return w(X,{children:[r(U,{display:"flex",justifyContent:"flex-end",children:r(te,{to:"new",children:r(ne,{title:`${e(R.CREATE)}  ${e(R.CATEGORY)}`,children:r(Y,{children:R.ICONS.ADD})})})}),r(K,{rows:s,actions:a}),o&&r(se,{isOpen:!!o,handlerClose:l.cancel.action,children:w(U,{children:[r(oe,{component:"div",sx:{flexGrow:1},children:e(R.MESSAGE_ACTIONS.DELETE)}),r(U,{className:"actions-modal",children:l&&Object.keys(l).map(n=>r(re,{variant:"contained",onClick:()=>l[n].action(o),children:e(n)},n))})]})})]})};export{Ze as Category};
